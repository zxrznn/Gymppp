<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktiver Gym Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Fitness -->
    <!-- Application Structure Plan: Die Anwendung ist als eine vertikale One-Page-Website mit einer festen Navigation konzipiert. Anstatt der linearen Pr√§sentationsstruktur erm√∂glicht dies dem Benutzer, frei zwischen den thematischen Abschnitten zu springen: 1. "Warum das Gym?" (Motivation & Grundlagen), 2. "Workout Splits erkl√§rt" (der interaktive Kern), 3. "KI-Coach" (LLM-Interaktion), und 4. "Dein Start" (Fazit). Der interaktive Split-Explorer wurde als zentrales Element gew√§hlt, da er es dem Benutzer erm√∂glicht, verschiedene Trainingssysteme aktiv zu vergleichen. Die Gemini-Integration im "KI-Coach" bietet den Mehrwert der Personalisierung und strategischen Beratung, basierend auf dem gew√§hlten Split. -->
    <!-- Visualization & Content Choices: Die Inhalte wurden aus der Markdown-Datei extrahiert. Ziel: Informieren, Vergleichen & Beraten. Pr√§sentationsmethode: Thematische Abschnitte mit interaktiven Elementen und einem dedizierten LLM-Chat-Interface. Interaktion: Klickbare Buttons im "Workout Splits"-Bereich aktualisieren dynamisch Textinhalte, einen visuellen Wochenplan und eine Muskelgruppen-Grafik. Die Gemini-Sektion nutzt Text-Inputs und einen API-Call, um personalisiertes Trainingstipps zu generieren. Justification: Diese interaktive Darstellung ist ansprechender und der KI-Coach bietet eine direkte Anwendung des erlernten Split-Wissens. Library/Method: Vanilla JavaScript f√ºr die Interaktionslogik, HTML/CSS (Tailwind) f√ºr die visuellen Diagramme und die UI des KI-Coaches. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
            color: #212529;
        }
        .muscle-map-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            min-height: 280px;
        }
        .muscle-person {
            position: relative;
            width: 100px;
        }
        .muscle {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }
        .muscle.highlighted {
            background-color: rgba(239, 68, 68, 0.7); /* red-500 */
        }
        .muscle.secondary-highlight {
            background-color: rgba(251, 146, 60, 0.7); /* orange-400 */
        }
        .front .head { top: 0; left: 35%; width: 30%; height: 12%; border-radius: 50% 50% 45% 45%;}
        .front .neck { top: 12%; left: 40%; width: 20%; height: 5%;}
        .front .chest { top: 17%; left: 25%; width: 50%; height: 20%; border-radius: 40% 40% 50% 50%;}
        .front .shoulders { top: 16%; left: 10%; width: 80%; height: 10%; border-radius: 50%;}
        .front .biceps { top: 28%; left: 0%; width: 20%; height: 18%; border-radius: 40% 40% 30% 30%;}
        .front .biceps.right { left: 80%;}
        .front .forearms { top: 46%; left: 0%; width: 18%; height: 20%; border-radius: 30%;}
        .front .forearms.right { left: 82%;}
        .front .abs { top: 37%; left: 30%; width: 40%; height: 22%; border-radius: 20%;}
        .front .quads { top: 59%; left: 20%; width: 60%; height: 25%; border-radius: 30% 30% 20% 20%;}
        .front .calves { top: 85%; left: 25%; width: 50%; height: 15%; border-radius: 40% 40% 50% 50%;}
        .back .head { top: 0; left: 35%; width: 30%; height: 12%; border-radius: 50% 50% 45% 45%;}
        .back .neck { top: 12%; left: 40%; width: 20%; height: 5%;}
        .back .shoulders { top: 16%; left: 10%; width: 80%; height: 10%; border-radius: 50%;}
        .back .back-upper { top: 17%; left: 25%; width: 50%; height: 25%; border-radius: 20% 20% 50% 50%;}
        .back .back-lower { top: 42%; left: 30%; width: 40%; height: 15%; border-radius: 20%;}
        .back .triceps { top: 28%; left: 80%; width: 20%; height: 18%; border-radius: 40% 40% 30% 30%;}
        .back .triceps.left { left: 0%;}
        .back .glutes { top: 57%; left: 25%; width: 50%; height: 15%; border-radius: 50% 50% 40% 40%;}
        .back .hamstrings { top: 72%; left: 25%; width: 50%; height: 20%; border-radius: 20% 20% 30% 30%;}
        .back .calves { top: 92%; left: 25%; width: 50%; height: 15%; border-radius: 40% 40% 50% 50%;}
    </style>
</head>
<body class="antialiased">
    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <div class="text-xl font-bold text-gray-800">üí™ Gym Guide</div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#warum" class="text-gray-600 hover:text-red-500 transition">Warum das Gym?</a>
                    <a href="#splits" class="text-gray-600 hover:text-red-500 transition">Workout Splits</a>
                    <a href="#coach" class="text-gray-600 hover:text-red-500 transition">KI-Coach ‚ú®</a>
                    <a href="#start" class="text-gray-600 hover:text-red-500 transition">Dein Start</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12">
        <section id="hero" class="text-center mb-20">
            <h1 class="text-4xl md:text-6xl font-bold text-gray-800 mb-4">St√§rker werden ‚Äì Der Weg ins Gym</h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">Eine interaktive Einf√ºhrung in die Welt des Krafttrainings und die Systematik hinter erfolgreichen Trainingspl√§nen.</p>
        </section>

        <section id="warum" class="mb-20 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-10">Warum das Gym? Mehr als nur Muskeln</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-12">Viele denken beim Fitnessstudio nur an Gewichte und Schwei√ü. Doch Krafttraining ist ein ganzheitliches Hobby, das K√∂rper und Geist gleicherma√üen st√§rkt. Es geht um Gesundheit, Disziplin und das Erreichen pers√∂nlicher Ziele.</p>
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-2xl font-semibold mb-4 text-red-500">Physische Vorteile</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li><span class="font-semibold">‚úîÔ∏è Bessere Haltung:</span> St√§rkt R√ºcken- und Bauchmuskulatur.</li>
                        <li><span class="font-semibold">‚úîÔ∏è Verletzungsschutz:</span> Stabile Gelenke durch starke Muskeln.</li>
                        <li><span class="font-semibold">‚úîÔ∏è Stoffwechsel-Boost:</span> Muskeln verbrennen auch in Ruhe mehr Kalorien.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-2xl font-semibold mb-4 text-orange-500">Mentale Vorteile</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li><span class="font-semibold">‚úîÔ∏è Stressabbau:</span> Ein perfekter Ausgleich zum Alltag.</li>
                        <li><span class="font-semibold">‚úîÔ∏è Erh√∂htes Selbstbewusstsein:</span> Fortschritte sehen und f√ºhlen.</li>
                        <li><span class="font-semibold">‚úîÔ∏è Disziplin & Struktur:</span> Regelm√§√üigkeit, die sich auszahlt.</li>
                    </ul>
                </div>
            </div>
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h3 class="text-2xl font-bold text-center mb-6">Die 3 S√§ulen des Erfolgs</h3>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div>
                        <div class="text-4xl mb-3">üèãÔ∏è</div>
                        <h4 class="text-xl font-semibold mb-2">Training: Der Reiz</h4>
                        <p class="text-gray-600">Setzt den Impuls f√ºr den Muskel zu wachsen. Der Schl√ºssel ist die **progressive √úberlastung**: Versuche, dich stetig zu steigern.</p>
                    </div>
                    <div>
                        <div class="text-4xl mb-3">üçé</div>
                        <h4 class="text-xl font-semibold mb-2">Ern√§hrung: Der Baustoff</h4>
                        <p class="text-gray-600">Liefert Proteine als Bausteine und Energie. Ohne die richtigen N√§hrstoffe kann kein Muskel aufgebaut werden.</p>
                    </div>
                    <div>
                        <div class="text-4xl mb-3">üò¥</div>
                        <h4 class="text-xl font-semibold mb-2">Regeneration: Das Wachstum</h4>
                        <p class="text-gray-600">Der Muskel w√§chst in der Erholungsphase, nicht w√§hrend des Trainings. Genug Schlaf ist essenziell.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="splits" class="mb-20 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-4">Workout Splits erkl√§rt</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-12">Ein "Split" ist die Aufteilung deines Trainings auf verschiedene Tage, um Muskelgruppen intensiver zu trainieren und ihnen genug Zeit zur Erholung zu geben. W√§hle einen Split, um die Details zu sehen.</p>
            
            <div class="flex justify-center gap-2 md:gap-4 mb-8 flex-wrap">
                <button class="split-btn bg-red-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-red-600 transition" data-split="ganzkoerper">Ganzk√∂rper</button>
                <button class="split-btn bg-white text-gray-700 font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-gray-100 transition" data-split="uk-ok">2er Split: UK/OK</button>
                <button class="split-btn bg-white text-gray-700 font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-gray-100 transition" data-split="ppl">3er Split: Push/Pull/Legs</button>
            </div>

            <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                <h3 id="split-title" class="text-2xl font-bold mb-4 text-center md:text-left">Ganzk√∂rper-Training</h3>
                <p id="split-description" class="text-gray-600 mb-8">Ideal f√ºr Anf√§nger (2-3x pro Woche). Der ganze K√∂rper wird in jeder Einheit trainiert, um eine solide Grundlage zu schaffen und die Bewegungen zu lernen.</p>
                
                <div class="grid lg:grid-cols-2 gap-8 items-center">
                    <div>
                        <h4 class="text-xl font-semibold mb-4">Typischer Wochenplan</h4>
                        <div id="weekly-schedule" class="grid grid-cols-4 md:grid-cols-7 gap-2 text-center text-sm">
                        </div>

                        <h4 class="text-xl font-semibold mt-8 mb-4">Trainierte Muskeln am gew√§hlten Tag</h4>
                        <div class="muscle-map-container">
                            <div class="muscle-person front">
                                <div class="muscle head"></div><div class="muscle neck"></div>
                                <div class="muscle shoulders" data-muscle="schultern"></div>
                                <div class="muscle chest" data-muscle="brust"></div>
                                <div class="muscle biceps right" data-muscle="bizeps"></div><div class="muscle biceps left" data-muscle="bizeps"></div>
                                <div class="muscle forearms right"></div><div class="muscle forearms left"></div>
                                <div class="muscle abs" data-muscle="bauch"></div>
                                <div class="muscle quads" data-muscle="beine"></div>
                                <div class="muscle calves" data-muscle="waden"></div>
                            </div>
                            <div class="muscle-person back">
                                <div class="muscle head"></div><div class="muscle neck"></div>
                                <div class="muscle shoulders" data-muscle="schultern"></div>
                                <div class="muscle back-upper" data-muscle="ruecken"></div>
                                <div class="muscle back-lower" data-muscle="ruecken-unter"></div>
                                <div class="muscle triceps left" data-muscle="trizeps"></div><div class="muscle triceps right" data-muscle="trizeps"></div>
                                <div class="muscle glutes" data-muscle="gesaess"></div>
                                <div class="muscle hamstrings" data-muscle="beine-hinten"></div>
                                <div class="muscle calves" data-muscle="waden"></div>
                            </div>
                        </div>
                        <p class="text-xs text-center text-gray-500 mt-2">Rot: Hauptfokus, Orange: Sekund√§r</p>
                    </div>
                    <div>
                         <h4 class="text-xl font-semibold mb-4">Beispiel-√úbungen pro Trainingstag</h4>
                         <div id="exercise-list" class="space-y-4"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="coach" class="mb-20 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-4">‚ú® Dein KI-Coach: Personalisiertes Training</h2>
            <p class="text-center text-gray-600 max-w-3xl mx-auto mb-12">Der KI-Coach hilft dir, deinen aktuellen Split zu optimieren. W√§hle deinen Plan und stelle eine spezifische Frage zu Zielen (z.B. "Wie steigere ich die Schulterbreite im PPL?").</p>
            
            <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="coach-split" class="block text-sm font-medium text-gray-700 mb-2">Dein aktueller Split</label>
                        <select id="coach-split" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                            <option value="Ganzk√∂rper-Training">Ganzk√∂rper-Training</option>
                            <option value="2er Split (UK/OK)">2er Split (Ober-/Unterk√∂rper)</option>
                            <option value="3er Split (Push/Pull/Legs)">3er Split (PPL)</option>
                            <option value="4er Split (z.B. Brust/R√ºcken/Arme/Beine)">4er Split (Andere)</option>
                            <option value="5er Split (Bodypart-Split)">5er Split (Bodypart)</option>
                        </select>
                    </div>
                     <div>
                        <label for="coach-goal" class="block text-sm font-medium text-gray-700 mb-2">Dein Hauptziel</label>
                        <select id="coach-goal" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500">
                            <option value="Muskelaufbau (Hypertrophie)">Muskelaufbau (Hypertrophie)</option>
                            <option value="Fettabbau (Cutting)">Fettabbau (Cutting)</option>
                            <option value="Kraftsteigerung (Powerlifting)">Kraftsteigerung (Powerlifting)</option>
                            <option value="Ausdauer und allgemeine Fitness">Ausdauer und allgemeine Fitness</option>
                        </select>
                    </div>
                </div>

                <label for="coach-prompt" class="block text-sm font-medium text-gray-700 mb-2">Deine spezifische Frage/Strategieanpassung</label>
                <textarea id="coach-prompt" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 mb-4" placeholder="Beispiel: Ich m√∂chte im 3er Split mehr Fokus auf meinen Trizeps legen, da dieser hinterherhinkt. Welche Anpassung ist sinnvoll?"></textarea>

                <button id="get-advice-btn" class="w-full bg-red-500 text-white font-bold py-3 rounded-lg shadow-lg hover:bg-red-600 transition disabled:bg-red-300">
                    ‚ú® Strategischen Rat vom KI-Coach einholen
                </button>

                <div id="advice-result" class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg min-h-[100px] flex items-center justify-center text-center">
                    <p class="text-gray-500" id="result-placeholder">Dein personalisierter Trainings-Tipp erscheint hier.</p>
                </div>
            </div>
        </section>

        <section id="start" class="text-center scroll-mt-20">
            <h2 class="text-3xl font-bold mb-4">Dein Start ins Training</h2>
            <p class="text-gray-600 max-w-3xl mx-auto mb-12">Das Wichtigste ist, anzufangen und eine Routine zu finden, die dir Spa√ü macht und in deinen Alltag passt. Hier sind ein paar letzte Tipps:</p>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-2">1. Konsistenz > Intensit√§t</h3>
                    <p>Es ist besser, dreimal pro Woche regelm√§√üig zu trainieren, als einmal pro Woche bis zur kompletten Ersch√∂pfung. Routine ist der Schl√ºssel.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-2">2. Technik vor Gewicht</h3>
                    <p>F√ºhre die √úbungen sauber und kontrolliert aus. Ein leichteres Gewicht mit perfekter Technik ist effektiver und sicherer als zu viel Gewicht.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-2">3. Finde dein Warum</h3>
                    <p>Ob Stressabbau, Gesundheit oder √Ñsthetik ‚Äì dein pers√∂nliches Ziel wird dich an Tagen motivieren, an denen du keine Lust hast.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white mt-20">
        <div class="container mx-auto px-6 py-4 text-center">
            <p>&copy; 2025 Interaktiver Gym Guide. Erstellt, um Wissen zu teilen.</p>
        </div>
    </footer>

    <script>
        const splitData = {
            'ganzkoerper': {
                title: 'Ganzk√∂rper-Training',
                description: 'Ideal f√ºr Anf√§nger (2-3x pro Woche). Der ganze K√∂rper wird in jeder Einheit trainiert, um eine solide Grundlage zu schaffen und die Bewegungen zu lernen.',
                schedule: [
                    { day: 'Mo', type: 'Training', color: 'bg-red-400', textColor: 'text-white' },
                    { day: 'Di', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                    { day: 'Mi', type: 'Training', color: 'bg-red-400', textColor: 'text-white' },
                    { day: 'Do', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                    { day: 'Fr', type: 'Training', color: 'bg-red-400', textColor: 'text-white' },
                    { day: 'Sa', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                    { day: 'So', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                ],
                days: {
                    'Training': {
                        muscles: { main: ['brust', 'ruecken', 'beine', 'schultern'], secondary: ['bizeps', 'trizeps', 'bauch', 'gesaess', 'waden', 'beine-hinten', 'ruecken-unter'] },
                        exercises: [
                            { name: 'Kniebeugen (Squats)', group: 'Ganzk√∂rper, Fokus Beine' },
                            { name: 'Bankdr√ºcken (Bench Press)', group: 'Brust, Schultern, Trizeps' },
                            { name: 'Rudern (Rows)', group: 'R√ºcken, Bizeps' },
                            { name: 'Schulterdr√ºcken (Overhead Press)', group: 'Schultern, Trizeps' },
                            { name: 'Bauchpresse (Crunches)', group: 'Bauch' },
                        ]
                    }
                }
            },
            'uk-ok': {
                title: '2er Split: Oberk√∂rper / Unterk√∂rper',
                description: 'Ein sehr beliebter und effektiver Split (ca. 4x pro Woche). Erlaubt eine h√∂here Frequenz pro Muskelgruppe als ein 3er-Split und mehr Volumen als ein Ganzk√∂rperplan.',
                schedule: [
                    { day: 'Mo', type: 'Oberk√∂rper', color: 'bg-orange-400', textColor: 'text-white' },
                    { day: 'Di', type: 'Unterk√∂rper', color: 'bg-sky-400', textColor: 'text-white' },
                    { day: 'Mi', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                    { day: 'Do', type: 'Oberk√∂rper', color: 'bg-orange-400', textColor: 'text-white' },
                    { day: 'Fr', type: 'Unterk√∂rper', color: 'bg-sky-400', textColor: 'text-white' },
                    { day: 'Sa', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                    { day: 'So', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                ],
                days: {
                    'Oberk√∂rper': {
                        muscles: { main: ['brust', 'ruecken', 'schultern'], secondary: ['bizeps', 'trizeps', 'ruecken-unter'] },
                        exercises: [
                            { name: 'Bankdr√ºcken', group: 'Brust, Schultern, Trizeps' },
                            { name: 'Klimmz√ºge / Latzug', group: 'R√ºcken, Bizeps' },
                            { name: 'Schulterdr√ºcken', group: 'Schultern, Trizeps' },
                            { name: 'Bizeps Curls', group: 'Bizeps' },
                            { name: 'Trizeps Pushdowns', group: 'Trizeps' },
                        ]
                    },
                    'Unterk√∂rper': {
                        muscles: { main: ['beine', 'gesaess', 'beine-hinten'], secondary: ['bauch', 'waden', 'ruecken-unter'] },
                        exercises: [
                            { name: 'Kniebeugen', group: 'Beine, Ges√§√ü' },
                            { name: 'Kreuzheben (Deadlifts)', group: 'Ganzk√∂rper, Fokus R√ºcken/Beine' },
                            { name: 'Beinpresse', group: 'Beine' },
                            { name: 'Wadenheben', group: 'Waden' },
                            { name: 'Beinheben (Leg Raises)', group: 'Bauch' },
                        ]
                    }
                }
            },
            'ppl': {
                title: '3er Split: Push / Pull / Legs',
                description: 'F√ºr fortgeschrittene Athleten (3-6x pro Woche). Die Aufteilung nach Bewegungsart (Dr√ºcken, Ziehen, Beine) erlaubt eine sehr hohe Intensit√§t pro Training.',
                schedule: [
                    { day: 'Mo', type: 'Push', color: 'bg-red-500', textColor: 'text-white' },
                    { day: 'Di', type: 'Pull', color: 'bg-green-500', textColor: 'text-white' },
                    { day: 'Mi', type: 'Legs', color: 'bg-blue-500', textColor: 'text-white' },
                    { day: 'Do', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                    { day: 'Fr', type: 'Push', color: 'bg-red-500', textColor: 'text-white' },
                    { day: 'Sa', type: 'Pull', color: 'bg-green-500', textColor: 'text-white' },
                    { day: 'So', type: 'Pause', color: 'bg-gray-200', textColor: 'text-gray-600' },
                ],
                days: {
                    'Push': {
                        muscles: { main: ['brust', 'schultern', 'trizeps'], secondary: [] },
                        exercises: [
                            { name: 'Bankdr√ºcken', group: 'Brust' },
                            { name: 'Schr√§gbankdr√ºcken', group: 'Obere Brust, Schultern' },
                            { name: 'Schulterdr√ºcken', group: 'Schultern' },
                            { name: 'Seitheben', group: 'Seitliche Schulter' },
                            { name: 'Trizepsdr√ºcken am Kabel', group: 'Trizeps' },
                        ]
                    },
                    'Pull': {
                        muscles: { main: ['ruecken', 'bizeps', 'ruecken-unter'], secondary: ['schultern'] },
                        exercises: [
                            { name: 'Klimmz√ºge / Latzug', group: 'Oberer R√ºcken' },
                            { name: 'Rudern', group: 'Gesamter R√ºcken' },
                            { name: 'Face Pulls', group: 'Hintere Schulter, oberer R√ºcken' },
                            { name: 'Langhantel Curls', group: 'Bizeps' },
                            { name: 'Hammer Curls', group: 'Bizeps, Unterarm' },
                        ]
                    },
                    'Legs': {
                        muscles: { main: ['beine', 'gesaess', 'beine-hinten', 'waden'], secondary: ['bauch', 'ruecken-unter'] },
                        exercises: [
                            { name: 'Kniebeugen', group: 'Beine, Ges√§√ü' },
                            { name: 'Rum√§nisches Kreuzheben', group: 'Beinbeuger, Ges√§√ü' },
                            { name: 'Ausfallschritte', group: 'Beine, Ges√§√ü' },
                            { name: 'Wadenheben', group: 'Waden' },
                            { name: 'Plank', group: 'Bauch, Core' },
                        ]
                    }
                }
            }
        };

        const splitButtons = document.querySelectorAll('.split-btn');
        const titleEl = document.getElementById('split-title');
        const descriptionEl = document.getElementById('split-description');
        const scheduleEl = document.getElementById('weekly-schedule');
        const exerciseEl = document.getElementById('exercise-list');
        const allMuscles = document.querySelectorAll('.muscle');

        function updateActiveButton(activeBtn) {
            splitButtons.forEach(btn => {
                btn.classList.remove('bg-red-500', 'text-white');
                btn.classList.add('bg-white', 'text-gray-700');
            });
            activeBtn.classList.add('bg-red-500', 'text-white');
            activeBtn.classList.remove('bg-white', 'text-gray-700');
        }

        function updateMuscles(dayType, splitId) {
            allMuscles.forEach(m => {
                m.classList.remove('highlighted', 'secondary-highlight');
            });

            if (!dayType || dayType === 'Pause' || !splitData[splitId].days[dayType]) return;

            const musclesToShow = splitData[splitId].days[dayType].muscles;
            musclesToShow.main.forEach(muscleName => {
                document.querySelectorAll(`[data-muscle=${muscleName}]`).forEach(el => el.classList.add('highlighted'));
            });
             musclesToShow.secondary.forEach(muscleName => {
                document.querySelectorAll(`[data-muscle=${muscleName}]`).forEach(el => el.classList.add('secondary-highlight'));
            });
        }
        
        function updateExercises(dayType, splitId) {
            exerciseEl.innerHTML = '';
             if (!dayType || dayType === 'Pause' || !splitData[splitId].days[dayType]) {
                 const p = document.createElement('p');
                 p.textContent = 'Heute ist Regeneration angesagt!';
                 p.className = 'text-gray-500';
                 exerciseEl.appendChild(p);
                 return;
             }
            const exercises = splitData[splitId].days[dayType].exercises;

            exercises.forEach(ex => {
                const div = document.createElement('div');
                div.className = 'p-3 bg-gray-50 rounded-md';
                const nameP = document.createElement('p');
                nameP.className = 'font-semibold text-gray-800';
                nameP.textContent = ex.name;
                const groupP = document.createElement('p');
                groupP.className = 'text-sm text-gray-500';
                groupP.textContent = ex.group;
                div.appendChild(nameP);
                div.appendChild(groupP);
                exerciseEl.appendChild(div);
            });
        }

        function displaySplit(splitId) {
            const data = splitData[splitId];
            titleEl.textContent = data.title;
            descriptionEl.textContent = data.description;
            scheduleEl.innerHTML = '';

            data.schedule.forEach(item => {
                const dayDiv = document.createElement('div');
                dayDiv.className = `p-2 rounded cursor-pointer transition ${item.color} ${item.textColor} font-semibold flex flex-col justify-center items-center h-16`;
                dayDiv.innerHTML = `<span>${item.day}</span><span class="text-xs">${item.type}</span>`;
                dayDiv.onclick = () => {
                     // Remove border from all others
                    Array.from(scheduleEl.children).forEach(child => child.classList.remove('ring-2', 'ring-red-500', 'ring-offset-2'));
                    // Add border to clicked
                    dayDiv.classList.add('ring-2', 'ring-red-500', 'ring-offset-2');
                    updateMuscles(item.type, splitId);
                    updateExercises(item.type, splitId);
                };
                scheduleEl.appendChild(dayDiv);
            });

            // Initially select Monday
            if(scheduleEl.firstChild){
                scheduleEl.firstChild.click();
            }
        }

        splitButtons.forEach(button => {
            button.addEventListener('click', () => {
                const splitId = button.dataset.split;
                updateActiveButton(button);
                displaySplit(splitId);
            });
        });

        // --- GEMINI API INTEGRATION START ---

        const getAdviceBtn = document.getElementById('get-advice-btn');
        const adviceResultEl = document.getElementById('advice-result');
        const coachSplitEl = document.getElementById('coach-split');
        const coachGoalEl = document.getElementById('coach-goal');
        const coachPromptEl = document.getElementById('coach-prompt');

        async function fetchGeminiAdvice(query) {
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const systemPrompt = "Du bist ein erfahrener Fitness-Coach. Gib eine pr√§gnante, motivierende und strategische Antwort in deutscher Sprache. Begr√º√üe den Nutzer kurz und gib dann den Tipp. Verwende keine Markdown-√úberschriften (wie # oder ##) oder Listen, sondern einen flie√üenden Text.";
            
            const payload = {
                contents: [{ parts: [{ text: query }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            for (let attempt = 0; attempt < 3; attempt++) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Entschuldigung, der KI-Coach konnte keine Antwort generieren. Bitte versuche es sp√§ter noch einmal.";
                    return text;

                } catch (error) {
                    if (attempt === 2) {
                        return `Ein Fehler ist aufgetreten: ${error.message}. Bitte √ºberpr√ºfe deine Eingabe oder versuche es sp√§ter erneut.`;
                    }
                    await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));
                }
            }
        }

        getAdviceBtn.addEventListener('click', async () => {
            const splitName = coachSplitEl.value;
            const goal = coachGoalEl.value;
            const userPrompt = coachPromptEl.value.trim();

            if (!userPrompt) {
                adviceResultEl.innerHTML = '<p class="text-red-500">Bitte gib eine spezifische Frage oder Strategieanpassung ein, damit der Coach dir helfen kann!</p>';
                return;
            }

            const loadingHTML = '<div class="flex items-center space-x-2"><svg class="animate-spin h-5 w-5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="text-gray-600">Der KI-Coach denkt nach...</span></div>';
            
            adviceResultEl.innerHTML = loadingHTML;
            getAdviceBtn.disabled = true;

            const finalQuery = `Ich folge dem Trainingsplan "${splitName}". Mein Hauptziel ist "${goal}". Meine spezifische Frage zur Optimierung des Plans lautet: "${userPrompt}"`;

            const advice = await fetchGeminiAdvice(finalQuery);

            adviceResultEl.innerHTML = `<p class="text-gray-800 text-left">${advice}</p>`;
            getAdviceBtn.disabled = false;
        });

        // --- GEMINI API INTEGRATION END ---
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initial load of the splits section
            displaySplit('ganzkoerper');
        });
    </script>
</body>
</html>
